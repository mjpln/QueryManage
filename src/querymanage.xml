<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 2.1//EN" "http://struts.apache.org/dtds/struts-2.1.dtd">
<struts>

	<package name="querymanage" namespace="/" extends="valid-default">
		<action name="querymanage" class="com.knowology.km.action.QuerymanageAction"
			method="execute">
			<interceptor-ref name="validLoginStack"/> 
			<result name="success" type="json">
				<param name="root">m_result</param>
			</result>
		</action>
		
		<action name="createuser" class="com.knowology.km.action.QuerymanageAction"
			method="execute">
			<result name="success" type="json">
				<param name="root">m_result</param>
			</result>
		</action>
		
		<action name="querymanageexport" class="com.knowology.km.action.FileDownloadAction">
			<result name="export" type="stream">
				<param name="inputName">fileInputStream</param>
				<param name="contentDisposition">attachment;fileName="${fileName}"</param>
				<param name="contentType">application/vnd.ms-excel</param>
				<param name="bufferSize">2048</param>
			</result>
			<result name="jsonstring" type="stream">
				<param name="inputName">fileInputStream</param>
				<param name="contentType">text/html</param>
			</result>
		</action>
	</package>
	
	<package name="classifyquery" namespace="/" extends="struts-default">
		<action name="classifyquery" class="com.knowology.km.action.FileDownloadAction"
			method="execute">
			<result name="export" type="stream">
				<param name="inputName">fileInputStream</param>
				<param name="contentDisposition">attachment;fileName="${fileName}"</param>
				<param name="contentType">application/vnd.ms-excel</param>
				<param name="bufferSize">2048</param>
			</result>
			<result name="jsonstring" type="stream">
				<param name="inputName">fileInputStream</param>
				<param name="contentType">text/html</param>
			</result>
		</action>
	</package>
	
	<package name="wordpat" namespace="/" extends="valid-default">
		<action name="wordpat" class="com.knowology.km.action.WordpatAction"
			method="execute">
			<interceptor-ref name="validLoginStack"/> 
			<result name="success" type="json">
				<param name="root">m_result</param>
			</result>
		</action>
	</package>
	
	<package name="faq" namespace="/" extends="valid-default">
		<action name="faq" class="com.knowology.km.action.FaqAction"
			method="execute">
			<interceptor-ref name="validLoginStack"/> 
			<result name="success" type="json">
				<param name="root">m_result</param>
			</result>
		</action>
	</package>
	

	<!-- 共享语义页面 -->
	 <package name="extend" namespace="/extend" extends="valid-default">
		<action name="*" class="com.knowology.km.action.ExtendAction" method="{1}">
			<interceptor-ref name="validLoginStack"/> 
			<result type="json">  
                <param name="root">m_result</param>  
            </result>
		</action>	
	</package>


	<package name="serviceword" namespace="/" extends="valid-default">
		<action name="serviceword" class="com.knowology.km.action.ServiceWordAction"
			method="execute">
			<interceptor-ref name="validLoginStack"/>
			<result name="success" type="json">
				<param name="root">m_result</param>
			</result>
		</action>
		<action name="worditem" class="com.knowology.km.action.WorditemAction"
			method="execute">
			<interceptor-ref name="validLoginStack"/>
			<result name="success" type="json">
				<param name="root">m_result</param>
			</result>
		</action>
		<action name="synonym" class="com.knowology.km.action.SynonymAction"
			method="execute">
			<interceptor-ref name="validLoginStack"/>
			<result name="success" type="json">
				<param name="root">m_result</param>
			</result>
		</action>
		<action name="getCityTree" class="com.knowology.km.action.QuestionUploadAction"
			method="getCityTree">
			<interceptor-ref name="validLoginStack"/>
			<result name="success" type="json">
				<param name="root">m_result</param>
			</result>
		</action>
		<action name="getCityTreeByLoginInfo" class="com.knowology.km.action.QuestionUploadAction"
			method="getCityTreeByLoginInfo">
			  
			<result name="success" type="json">
				<param name="root">m_result</param>
			</result>
		</action>
		
	</package>
	

	<package name="default" namespace="/relatequery" extends="struts-default,json-default">
        <action name="*" class="com.knowology.km.action.RelatequeryAction" method="{1}">
        	<result name="indexPage">/relatequery/relatequery.jsp</result>
        	<result name="addPage">/relatequery/add.jsp</result>
        	<result name="modPage">/relatequery/mod.jsp</result>
            <result type="json">  
                <param name="root">response</param>  
            </result>
        </action>  
    </package>
    
    <package name="interface" namespace="/interface" extends="struts-default,json-default">
        <action name="*" class="com.knowology.km.action.ExternalInterfaceAction" method="{1}">
        	<result name="success" type="json">
				<param name="root">m_result</param>
			</result>
        </action>  
    </package>
    <package name="servicechangewordpat" namespace="/" extends="valid-default,result-global">
		<action name="changewordpat" class="com.knowology.km.action.BatchChangeWordpatAction" method="execute">
			<result name="success" type="json">
				<param name="root">m_result</param>
			</result>
		</action>
	</package>
</struts>